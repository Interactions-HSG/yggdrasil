{"version":3,"sources":["Assets/RobotArm.png","Assets/Background.png","Assets/DriverRobot.png","Assets/Ball.png","Components/Background.jsx","Components/Robot.jsx","Components/Terminal.jsx","Components/Ball.jsx","Components/Configuration.jsx","Components/Simulation.jsx","App.js","serviceWorker.js","index.js"],"names":["module","exports","Background","props","bgStyle","width","windowWidth","height","windowHeight","top","left","position","src","backgroundImage","style","onMouseDown","alt","Robot","Math","round","centreX","centreY","robotStyle","transform","rotation","zIndex","robotImage","Terminal","state","text","newLine","console","log","this","setState","refs","elem","scrollTop","scrollHeight","className","ref","split","map","i","key","align","React","Component","Ball","radius","ballStyle","ballImg","Configuration","robot2","robot1","robot3","manual2","manual3","yggdrasilUrl","ws","websocket","handleInputChange","bind","withManual","requestObj","XMLHttpRequest","addEventListener","responseText","url","constructUrl","payload","open","setRequestHeader","send","robotNumber","request","relativePath","name_","active","updateRobot","jsonObj","jacamo","changeManual","name","enabled","JSON","stringify","updateRobot2","xhr","event","target","value","checked","startsWith","changeArtifact","createRobot","removeRobot","updateWorkspace","type","onChange","Simulation","WebSocket","driverPos","x","y","driverGoal","driverRotation","driverBallLoaded","driverBallAttached","robotArm1Pos","robotArm1Rotation","robotArm1RotationGoal","robotArm1BallAttached","robotArm2Pos","robotArm2Rotation","robotArm2RotationGoal","robotArm2BallAttached","ballPos","terminalText","driverWidth","driverHeight","driverSpeed","ballDestination","ballRadius","robotArmWidth","robotArmHeight","robotArmRotationStep","TerminalElement","createRef","e","ballAtDestination","nativeEvent","offsetX","offsetY","placeObject","currentRotation","rotationGoal","PI","abs","origin","message","nextLine","current","addLine","center","cos","sin","movingFactor","direction","nextPos","getBallPositionWithRotationAndRadius","rotationStep","newRotation","isRightRotationCloser","robotArmRotation","robotArmPos","Object","keys","rotate","degrees","grasp","getBallPositionAtRobotArm","atan2","move","addTerminalLine","terminal","driverGoalReached","moveDriverTowardsGoal","rotationGoalReached","getNewRotation","intervalId","setInterval","gameLoop","onopen","onmessage","evt","data","parse","handleMessage","onclose","clearInterval","tabIndex","backgroundImg","_onMouseDown","driverRobotImg","robotArmImg","window","innerWidth","App","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.68c37766.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/Background.7d19d968.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjEuNv1OCegAAAHpSURBVGhD7Zg7ksIwEEQ5hgMHHImAIzjkDj6KAwIHHNJLB6PqbY1K9gIe7a5d9ZKej7oLEAWn57MY4zguz+f0G1DfmaADraK+M0EHWkV9Z4IOtIr6zgQd8Ljf78v1el3O53OafRXswk7s1vM8eHZzkMfjsfR9n/o/Bc7AWXo+w/2bgtxut9S3FzhTfRjctzpIRAijFIZ7VgXBS8w9EXhvM66vCrLHZ6IGPKgvrleD4AbheiR6m3GtGgTXIdcjgRf2xrVqkHd+T7wKvLA3rlWDcK0FSt6OIFGUvP2tIFxUuLkF1B/jioYuikb9Ma5o6KJo1B/jioYuikb9Ma5o6KJo1B/jioYuikb9Ma5o6KJo1B/jioYuikb9Ma5o6KJo1B/jioYuikb9Ma5o6KJo1B/jioYuikb9Ma5o6KJo1B/jioYuikb9Ma5o6KJo1B+DJzUeP6x2ouTtCBJFydv/CdLC/76G/v/LtWqQy+WSatHAC3vjWjXINE2pFg28sDeuVYOArutSPQp4UF9cXxVknudUjwIe1BfXVwUBwzCknr3B2eoHcM/qICAiTCkE4L5NQQBe4j0+MzjDezsx3L85iIEbBNfhO79nsAs79XYqwbM/DtIC6jsTdKBV1Hcm6ECrqO9M0IFW+e57XL4A4fZi6yG4/icAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAMAAAGhhLFkAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAGUExURQAAAACi6JeHDe4AAAABdFJOUwBA5thmAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAxUlEQVQ4T7WPWxKAIAzE9P6Xto+AVFuRGc2HbMOCujV2IS6yMsmqT6dv7OF5lhgpKWNuh5WhpDEyWGuEumaS8C6PZ/tg2QZPD1jfwQiITm7dEwPLurj77t0KzAbqK7g1XotTMNePS2XTDCepLKxoQuA/m+nye+86tSavGikgFIyBCu5jeMPkFZQCbEXYS6DQQRdQcnAl1ATEIwvVVmaYsFD1MnHKn92Vf1vqvirbrQaihp6BKqDUQSdQiLAXYCuHjoBobNsBXKQE0QSUtRQAAAAASUVORK5CYII=\"","import React from 'react';\n\nfunction Background(props) {\n    const bgStyle = {\n        width: props.windowWidth,\n        height: props.windowHeight,\n        top: props.top,\n        left: props.left,\n        position: 'absolute'\n    };\n\n    return (\n        <img src={props.backgroundImage} style={bgStyle} onMouseDown={props.onMouseDown} alt=\"\" />\n    );\n}\n\nexport default Background;","import React from 'react';\n\nfunction Robot(props) {\n    const left = Math.round(props.centreX - (props.width / 2));\n    const top = Math.round(props.centreY - (props.height / 2));\n\n    const robotStyle = {\n        width: `calc(${props.width}px)`,\n        height: `calc(${props.height}px)`,\n        top: `calc(${top}px)`,\n        left: `calc(${left}px)`,\n        position: 'absolute',\n        transform: `rotate(${props.rotation}rad)`,\n        zIndex: 1\n    };\n\n    return (\n        <img src={props.robotImage} style={robotStyle} alt=\"\"/>\n    );\n}\n\nexport default Robot;\n","import React from 'react';\n\nclass Terminal extends React.Component {\n\n    constructor(props) {\n      super(props);\n      this.state = {\n            bgStyle : {\n                width: props.width,\n                height: props.height,\n                top: props.top,\n                left: props.left,\n                position: 'absolute'\n                },\n            text: props.text\n      };\n    }\n\n    addLine(newLine) {\n        console.log(\"adding line: \" + newLine);\n        this.setState({\n            text: this.state.text + newLine\n        })\n    }\n\n    componentDidUpdate() {\n        this.refs.elem.scrollTop = this.refs.elem.scrollHeight;\n    }\n\n    render() {\n        return (\n            <div className=\"terminal\" style={this.state.bgStyle} ref=\"elem\">\n                {this.state.text.split(\"\\n\").map((i,key) => {\n                    return <div align=\"left\" key={key}>{i}</div>;\n                })}\n            </div>\n        );\n    }\n}\n\nexport default Terminal;","import React from 'react';\nimport ballImg from '../Assets/Ball.png';\n\n\nfunction Ball(props) {\n    const left = Math.round(props.centreX - (props.radius / 2));\n    const top = Math.round(props.centreY - (props.radius / 2));\n    //console.log(\"creating ball with left=\" + left + ' top=' + top + \" centreX=\" + props.centreX + \" centreY=\" + props.centreY + \" radius=\" + props.raduis);\n\n    const ballStyle = {\n        width: `calc(${props.radius}px)`,\n        height: `calc(${props.radius}px)`,\n        top: `calc(${top}px)`,\n        left: `calc(${left}px)`,\n        position: 'absolute',\n        zIndex: 2\n    };\n\n    return (\n        <img src={ballImg} style={ballStyle} alt=\"\"/>\n    );\n}\n\nexport default Ball;\n","import React from 'react';\n\n\nclass Configuration extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        robot2: true,\n        robot1: true,\n        robot3: true,\n        manual2: true,\n        manual3: true,\n      };\n\n      this.yggdrasilUrl = 'http://localhost:8080';\n      this.ws = props.websocket;\n      this.handleInputChange = this.handleInputChange.bind(this);\n    }\n\n    updateRobot2(withManual) {\n      var requestObj = new XMLHttpRequest();\n      // get a callback when the server responds\n      requestObj.addEventListener('load', () => {\n          console.log(\"Received response from Yggdrasil:\")\n          console.log(requestObj.responseText)\n        });\n      const url = this.constructUrl('/artifacts/robot2');\n      var payload = `@prefix eve: <http://w3id.org/eve#> .\n\n      <http://localhost:8080/artifacts/robot2>\n        a eve:Artifact ;\n        eve:hasName \"Robot2\" ;\n        eve:isRobot \"Robot2\" ;\n        eve:hasCartagoArtifact \"www.Robot2\" .\n      `;\n      if (withManual) {\n        payload = `@prefix eve: <http://w3id.org/eve#> .\n        <http://localhost:8080/artifacts/robot2>\n          a eve:Artifact ;\n          eve:hasName \"Robot2\" ;\n          eve:isRobot \"Robot2\" ;\n          eve:hasCartagoArtifact \"www.Robot2\" ;\n          eve:hasManual [ eve:hasName \"driverManual\" ;\n          eve:hasUsageProtocol [\n            eve:hasName \"loadAndDrive\" ;\n            eve:hasFunction \"drive(X1,Y1,X2,Y2)\" ;\n            eve:hasPrecondition \"true\" ;\n            eve:hasBody \" move(X1,Y1);\n                    load;\n                    move(X2,Y2);\n                    unload \"\n          ]\n          ].`;\n      }\n      requestObj.open('PUT', url);\n      requestObj.setRequestHeader('content-type', 'text/turtle');\n      requestObj.setRequestHeader('slug', 'robot2');\n      requestObj.send(payload);\n    }\n\n    createRobot(requestObj, robotNumber) {\n      const url = this.constructUrl('/artifacts');\n      console.log('dispatching request to ' + url);\n      var payload;\n      if (robotNumber === 1) {\n        payload = `@prefix eve: <http://w3id.org/eve#> .\n        <>\n            a eve:Artifact ;\n            eve:hasName \"Robot1\" ;\n            eve:isRobot \"Robot1\" ;\n            eve:hasCartagoArtifact \"www.Robot1\" .`;\n      } else if (robotNumber === 2) {\n        payload = `@prefix eve: <http://w3id.org/eve#> .\n        <http://localhost:8080/artifacts/robot2>\n          a eve:Artifact ;\n          eve:hasName \"Robot2\" ;\n          eve:isRobot \"Robot2\" ;\n          eve:hasCartagoArtifact \"www.Robot2\" ;\n          eve:hasManual [ eve:hasName \"driverManual\" ;\n          eve:hasUsageProtocol [\n            eve:hasName \"loadAndDrive\" ;\n            eve:hasFunction \"drive(X1,Y1,X2,Y2)\" ;\n            eve:hasPrecondition \"true\" ;\n            eve:hasBody \" move(X1,Y1);\n                    load;\n                    move(X2,Y2);\n                    unload \"\n          ]\n          ].`;\n      } else if (robotNumber === 3) {\n        payload = `@prefix td: <http://www.w3.org/ns/td#> .\n        @prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n        @prefix iot: <http://iotschema.org/> .\n        @prefix http: <http://iotschema.org/protocol/http> .\n        @prefix eve: <http://w3id.org/eve#> .\n        @prefix ex: <http://example.com/> .\n\n        <http://localhost:8080/artifacts/robot3>\n          a td:Thing, eve:Artifact;\n          td:name \"Robot3\"^^xsd:string ;\n          td:base \"http://192.168.2.50/\"^^xsd:anyURI ;\n          td:interaction  [\n            a td:Action, ex:Base ;\n            td:name \"Base\"^^xsd:string ;\n            td:form [\n              http:methodName \"PUT\"^^xsd:string ;\n              td:href \"https://api.interactions.ics.unisg.ch/leubot/wrist/rotation\"^^xsd:anyURI ;\n              td:mediaType \"application/json\"^^xsd:string ;\n              td:rel \"invokeAction\"^^xsd:string\n            ] ;\n            td:inputSchema [\n              td:schemaType td:Object ;\n              td:field [\n                td:name \"token\"^^xsd:string ;\n                td:schema [ td:schemaType td:Boolean; td:const \"\\\\\"c347b252a29f75104fb47b10b4e75e5c\\\\\"\" ]\n              ] ;\n             td:field [\n                td:name \"value\"^^xsd:string ;\n                td:schema [ a ex:Value ; td:schemaType td:Number ]\n              ]\n            ]\n           ];\n           td:interaction  [\n            a td:Action, ex:Gripper ;\n            td:name \"Gripper\"^^xsd:string ;\n            td:form [\n              http:methodName \"PUT\"^^xsd:string ;\n              td:href \"https://api.interactions.ics.unisg.ch/leubot/gripper\"^^xsd:anyURI ;\n              td:mediaType \"application/json\"^^xsd:string ;\n              td:rel \"invokeAction\"^^xsd:string\n            ] ;\n            td:inputSchema [\n              td:schemaType td:Object ;\n              td:field [\n                td:name \"value\"^^xsd:string ;\n                td:schema [ a ex:Value ; td:schemaType td:Number ]\n              ]\n            ]\n          ].\n        `;\n      }\n      requestObj.open('POST', url);\n      requestObj.setRequestHeader('content-type', 'text/turtle');\n      requestObj.setRequestHeader('slug', 'robot' + robotNumber);\n      requestObj.send(payload);\n    }\n\n    removeRobot(requestObj, robotNumber) {\n      requestObj.open('DELETE', this.constructUrl('/artifacts/robot' + robotNumber));\n      requestObj.send();\n    }\n\n    updateWorkspace() {\n      var request = new XMLHttpRequest();\n      const url = this.constructUrl('/workspaces');\n      var payload = `@prefix eve: <http://w3id.org/eve#> .\n      <>\n          a eve:Workspace;\n          eve:hasName \"interactionsWksp\";`\n      if (this.state.robot1) {\n        payload +=  `\n        eve:contains <http://localhost:8080/artifacts/robot1>;`;\n      }\n      if (this.state.robot2) {\n        payload += `\n        eve:contains <http://localhost:8080/artifacts/robot2>;`;\n      }\n      if (this.state.robot3) {\n        payload += `\n        eve:contains <http://localhost:8080/artifacts/robot3>;`;\n      }\n      if (this.state.manual3) {\n        payload += `\n        eve:contains <http://localhost:8080/manuals/phantomXmanual>`;\n      }\n      payload += '.';\n      console.log(\"sending payload: \" + payload);\n      request.open('POST', url);\n      request.setRequestHeader('content-type', 'text/turtle');\n      request.setRequestHeader('slug', 'interactionsWksp');\n      request.send(payload);\n    }\n\n    constructUrl(relativePath) {\n        return this.yggdrasilUrl + relativePath;\n    }\n\n    changeManual(name_, active, updateRobot) {\n      // send info to jacamo\n      const jsonObj = {jacamo: {changeManual: {name: name_, enabled: active}}};\n      this.ws.send(JSON.stringify(jsonObj));\n\n      // send info to yggdrasil\n      if (name_ === 'manual2') {\n        this.setState({\n          manual2: active\n        });\n        if (updateRobot) {\n          this.updateRobot2(active);\n        }\n      } else if (name_ === 'manual3') {\n        // manual3\n        this.setState({\n          manual3: active\n        });\n        var xhr = new XMLHttpRequest();\n        // get a callback when the server responds\n        xhr.addEventListener('load', () => {\n            console.log(\"Received response from Yggdrasil:\")\n            console.log(xhr.responseText)\n          });\n        if (active) {\n          const payload = `@prefix eve: <http://w3id.org/eve#> .\n\n          <http://localhost:8080/manuals/phantomXmanual> a eve:Manual ;\n              eve:hasName \"phantomXmanual\" ;\n              eve:explains <http://localhost:8080/artifacts/robot3> ;\n              eve:hasUsageProtocol [\n                eve:hasName \"deliver\" ;\n                eve:hasFunction \"pickAndPlace(D1,D2)\" ;\n                eve:hasPrecondition \"true\" ;\n                eve:hasBody \" -+rotating(\\\\\"Robot3\\\\\",D1); -+grasping(\\\\\"Robot3\\\\\"); -+rotating(\\\\\"Robot3\\\\\",D2); -+releasing(\\\\\"Robot3\\\\\") \"\n              ] .`;\n          xhr.open('POST', this.constructUrl('/manuals'));\n          xhr.setRequestHeader('content-type', 'text/turtle');\n          xhr.setRequestHeader('slug', 'phantomXmanual');\n          xhr.send(payload)\n        } else {\n          xhr.open('DELETE', this.constructUrl('/manuals/phantomXmanual'));\n          xhr.send();\n        }\n      }\n    }\n\n    handleInputChange(event) {\n      const target = event.target;\n      const value = target.checked;\n      const name_ = target.name;\n\n      var jsonObj;\n      if (name_.startsWith(\"manual\")) {\n        jsonObj = {jacamo: {changeManual: {name: name_, enabled: value}}};\n      } else {\n        jsonObj = {jacamo: {changeArtifact: {name: name_, enabled: value}}};\n      }\n      console.log(\"setting \" + name_ + \" enabled: \" + value);\n      this.ws.send(JSON.stringify(jsonObj)); // notifies jacamo app\n      console.log('preparing request to yggdrasil...');\n      var xhr = new XMLHttpRequest();\n      // get a callback when the server responds\n      xhr.addEventListener('load', () => {\n          console.log(\"Received response from Yggdrasil:\")\n          console.log(xhr.responseText)\n        });\n\n      switch (name_) {\n          case 'robot1':\n            if (value) {\n                // activate robot1 (doesn't have a manual)\n                this.createRobot(xhr, 1);\n            } else {\n                // deactivate robot1\n                this.removeRobot(xhr, 1);\n            }\n              break;\n          case 'robot2':\n            this.changeManual('manual2', value);\n            if (value) {\n              // activate robot2\n              this.createRobot(xhr, 2);\n            } else {\n              // deactivate robot2\n              this.removeRobot(xhr, 2);\n            }\n            break;\n          case 'robot3':\n            this.changeManual('manual3', value);\n            if (value) {\n              // activate robot3\n              this.createRobot(xhr, 3);\n            } else {\n              // deactivate robot3\n              this.removeRobot(xhr, 3);\n            }\n            break;\n          case 'manual2':\n            this.changeManual(name_, value, true);\n            break;\n          case 'manual3':\n            this.changeManual(name_, value, false);\n            break;\n          default:\n              console.log(\"unexpected name: \" + name_);\n      }\n\n      this.setState({\n        [name_]: value\n      }, function() {\n        console.log(\"state is updated, updating workspace \" + value);\n        console.log(this.state)\n        this.updateWorkspace();\n      });\n    }\n\n    render() {\n      return (\n        <form className=\"leftbound\">\n          <label className=\"marginRight\">\n            Driver Robot:\n            <input\n              name=\"robot2\"\n              type=\"checkbox\"\n              checked={this.state.robot2}\n              onChange={this.handleInputChange} />\n          </label>\n          <label className=\"marginRight\">\n            Robot Arm 1:\n            <input\n              name=\"robot1\"\n              type=\"checkbox\"\n              checked={this.state.robot1}\n              onChange={this.handleInputChange} />\n          </label>\n          <label>\n            Robot Arm 2:\n            <input\n              name=\"robot3\"\n              type=\"checkbox\"\n              checked={this.state.robot3}\n              onChange={this.handleInputChange} />\n          </label>\n          <br />\n          <label className=\"largeMarginRight\">\n            Manual:\n            <input\n              name=\"manual2\"\n              type=\"checkbox\"\n              checked={this.state.manual2}\n              onChange={this.handleInputChange} />\n          </label>\n          <label>\n            Manual:\n            <input\n              name=\"manual3\"\n              type=\"checkbox\"\n              checked={this.state.manual3}\n              onChange={this.handleInputChange} />\n          </label>\n        </form>\n      );\n    }\n}\n\nexport default Configuration;","import React from 'react';\nimport backgroundImg from '../Assets/Background.png';\nimport driverRobotImg from '../Assets/DriverRobot.png';\nimport robotArmImg from '../Assets/RobotArm.png'\nimport Background from './Background';\nimport Robot from './Robot';\nimport Terminal from './Terminal';\nimport Ball from './Ball';\nimport Configuration from './Configuration';\n\nclass Simulation extends React.Component {\n    // The websocket used to communicate with the GUI backend and the Jacamo application\n    ws = new WebSocket('ws://localhost:8080')\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            driverPos: {x: 300, y: 200},\n            driverGoal: {x: 300, y: 200},\n            driverRotation: 0,\n            driverBallLoaded: false,\n            driverBallAttached: false,\n\n            robotArm1Pos: {x: 250, y: 400},\n            robotArm1Rotation: 0,\n            robotArm1RotationGoal: 0,\n            robotArm1BallAttached: false,\n\n            robotArm2Pos: {x: 550, y: 400},\n            robotArm2Rotation: 0,\n            robotArm2RotationGoal: 0,\n            robotArm2BallAttached: false,\n\n            ballPos: {x: 615, y: 400},\n\n            windowWidth: 800,\n            windowHeight: 600,\n            terminalText: \"\"\n        };\n\n        this.driverWidth = 25;\n        this.driverHeight = 25;\n        this.driverSpeed = 0.1; // fraction of goal-vector by which robot moves towards goal per time interval\n\n        this.ballDestination = {x:615, y: 400};\n        this.ballRadius = 15;\n\n\n        this.robotArmWidth = 120;\n        this.robotArmHeight = 17;\n        this.robotArmRotationStep = 0.05; // step in rad by which robotArm is moved per time interval\n\n        this.TerminalElement = React.createRef();\n    }\n\n    /*\n     * Triggered when mouse is pressed on background element\n     */\n    _onMouseDown(e) {\n        // if ball is at its destination, user can place it somewhere by clicking on the map to initiate a new scenario\n        if (this.ballAtDestination()) {\n            this.setState({ballPos: {x: e.nativeEvent.offsetX, y: e.nativeEvent.offsetY}});\n            const jsonObj = {jacamo: {placeObject: {x: e.nativeEvent.offsetX, y: e.nativeEvent.offsetY}}};\n            this.ws.send(JSON.stringify(jsonObj)); // notifies jacamo app\n        } else {\n            console.log(\"ball not at destination: x=\" + this.state.ballPos.x + \" y=\" + this.state.ballPos.y);\n        }\n    }\n\n    /*\n     * Returns true if ball is at this.ballDestination\n     */\n    ballAtDestination() {\n        return this.state.ballPos.x === this.ballDestination.x && this.state.ballPos.y === this.ballDestination.y;\n    }\n\n    /*\n     * Returns true if rotating to the right is faster than rotating to the left in order to reach rotationGoal from currentRotation\n     */\n    isRightRotationCloser(currentRotation, rotationGoal) {\n        return (rotationGoal > currentRotation && rotationGoal - currentRotation < Math.PI)\n                || (rotationGoal < currentRotation && currentRotation - rotationGoal > Math.PI)\n    }\n\n    /*\n     * Returns true if this.state.driverPos and this.state.driverGoal are max 5 pixels apart on x and y coordinates\n     */\n    driverGoalReached() {\n        return Math.abs(this.state.driverPos.x - this.state.driverGoal.x) < 5 &&\n                Math.abs(this.state.driverPos.y - this.state.driverGoal.y) < 5;\n    }\n\n    /*\n     * Returns true if the currentRotation is within a margin of 0.05 to rotationGoal\n     */\n    rotationGoalReached(currentRotation, rotationGoal) {\n        return Math.abs(currentRotation - rotationGoal) < 0.05;\n    }\n\n    /*\n     * Adds a log entry to the terminal\n     */\n    addTerminalLine(origin, message) {\n        const nextLine = '[' + origin + ']: ' + message + '\\n';\n        this.setState({terminalText: this.state.terminalText + nextLine});\n        this.TerminalElement.current.addLine(nextLine);\n    }\n\n    /*\n     * Rotation in rad\n     * Radius in pixel\n     * Center coordinates {x, y}\n     * Returns the coordinates x' y' if the element (in our case robotArm) is rotated by Rotation\n     */\n    getBallPositionWithRotationAndRadius(rotation, radius, center) {\n        return { x: center.x + Math.cos(rotation)*radius, y: center.y + Math.sin(rotation)*radius };\n    }\n\n    /*\n     * Moves this.state.driverPos by movingFactor towards this.state.driverGoal\n     */\n    moveDriverTowardsGoal(movingFactor) {\n        const direction = { x: this.state.driverGoal.x - this.state.driverPos.x, y: this.state.driverGoal.y - this.state.driverPos.y };\n        const nextPos = { x: this.state.driverPos.x + direction.x*movingFactor, y: this.state.driverPos.y + direction.y*movingFactor }\n        if (this.state.driverBallLoaded) {\n            this.setState({\n                driverPos: nextPos,\n                ballPos: nextPos\n            })\n        } else if (this.state.driverBallAttached) {\n            this.setState({\n                driverPos: nextPos,\n                ballPos: this.getBallPositionWithRotationAndRadius(this.state.driverRotation - Math.PI/2, this.driverWidth/2 + this.ballRadius, nextPos)\n            });\n        } else {\n            this.setState({ driverPos: nextPos});\n        }\n    }\n\n    /*\n     * Returns the new rotation [radians] if the currentRotation is moved by rotationStep towards rotationGoal\n     */\n    getNewRotation(currentRotation, rotationGoal, rotationStep) {\n        var newRotation;\n        if (this.isRightRotationCloser(currentRotation, rotationGoal)) {\n            newRotation = (currentRotation + rotationStep) % (2*Math.PI);\n        } else {\n            newRotation = (currentRotation - rotationStep) % (2*Math.PI);\n            if (newRotation < 0) {\n                newRotation = 2*Math.PI;\n            }\n        }\n        return newRotation;\n    }\n\n    /* robotArmRotation: rotation [radians] of the robot arm\n     * robotArmPos: {x,y} center position of the robot arm\n     *\n     * Returns the position of the ball s.t. it looks like it is grabbed by the robot arm\n     */\n    getBallPositionAtRobotArm(robotArmRotation, robotArmPos) {\n        return this.getBallPositionWithRotationAndRadius(robotArmRotation, this.robotArmWidth/2 - 5, robotArmPos)\n    }\n\n    /*\n     * Handles the JSON messages received through the websocket and updates the state of the UI components accordingly\n     */\n    handleMessage(message) {\n        switch(Object.keys(message)[0]) {\n            case \"robot1\":\n                switch(Object.keys(message.robot1)[0]) {\n                    case \"rotate\":\n                        this.setState({robotArm1RotationGoal: (message.robot1.rotate.degrees * Math.PI)/180});\n                        break;\n                    case \"grasp\":\n                        if(message.robot1.grasp) {\n                            console.log(\"robot1 grasps ball\");\n                            this.setState({\n                                robotArm1BallAttached: true,\n                                ballPos: this.getBallPositionAtRobotArm(this.state.robotArm1Rotation, this.state.robotArm1Pos)\n                            });\n                        } else {\n                            console.log(\"robot1 releases ball\");\n                            this.setState({robotArm1BallAttached: false});\n                        }\n                        break\n                    default:\n                        console.log(\"unable to process json message: \" + message);\n                }\n                break;\n            case \"robot2\":\n                switch(Object.keys(message.robot2)[0]) {\n                    case \"move\":\n                        const driverRotation = Math.atan2(message.robot2.move.y - this.state.driverPos.y, message.robot2.move.x - this.state.driverPos.x) + Math.PI / 2;\n                        console.log(\"setting driverGoal and Rotation: \" + driverRotation + \" from current rotation: \" + this.state.driverRotation);\n                        this.setState({\n                            driverGoal: {x: message.robot2.move.x, y: message.robot2.move.y},\n                            driverRotation: driverRotation,\n                        });\n                        break;\n                    case \"load\":\n                        this.setState({\n                            driverBallLoaded: true,\n                            ballPos: this.state.driverPos\n                        });\n                        break\n                    case \"attach\":\n                        console.log(\"attaching ball to driver robot...\");\n                        this.setState({\n                            driverBallAttached: true,\n                            ballPos: this.getBallPositionWithRotationAndRadius(this.state.driverRotation - Math.PI/2, this.driverWidth/2 + this.ballRadius, this.state.driverPos)\n                        })\n                        break\n                    case \"release\":\n                        this.setState({\n                            driverBallLoaded: false,\n                            driverBallAttached: false\n                        })\n                        break\n                    default:\n                        console.log(\"unable to process json message: \" + message);\n                }\n                break;\n            case \"robot3\":\n                switch(Object.keys(message.robot3)[0]) {\n                    case \"rotate\":\n                        this.setState({robotArm2RotationGoal: (message.robot3.rotate.degrees * Math.PI)/180});\n                        break;\n                    case \"grasp\":\n                        if(message.robot3.grasp) {\n                            console.log(\"robot3 grasps ball\");\n                            this.setState({\n                                robotArm2BallAttached: true,\n                                ballPos: this.getBallPositionAtRobotArm(this.state.robotArm2Rotation, this.state.robotArm2Pos)\n                            });\n                        } else {\n                            console.log(\"robot3 releases ball\");\n                            this.setState({robotArm2BallAttached: false});\n                            if (Math.abs(this.state.robotArm2Rotation) <= 0.05) {\n                                // we reached the destination\n                                console.log(\"Ball has reached destination!\");\n                                this.setState({\n                                    ballPos: this.ballDestination\n                                });\n                            }\n                        }\n                        break;\n                    default:\n                        console.log(\"unable to process json message: \" + JSON.stringify(message));\n                }\n                break;\n            case \"terminal\":\n                console.log(\"received log message\");\n                this.addTerminalLine(message.terminal.origin, message.terminal.message);\n                break;\n            default:\n                console.log(\"invalid json message: \" + JSON.stringify(message));\n        };\n    }\n\n    /*\n     * The loop which updates the UI elements of the simulation. It is bound by the setInterval() call in the componentDidMount() function\n     */\n    gameLoop() {\n        if (!this.driverGoalReached()) {\n            console.log(\"driverRobot has not yet reached its goal, moving into direciton of goal...\");\n            this.moveDriverTowardsGoal(this.driverSpeed);\n        }\n        if (!this.rotationGoalReached(this.state.robotArm1Rotation, this.state.robotArm1RotationGoal)) {\n            const newRotation = this.getNewRotation(this.state.robotArm1Rotation, this.state.robotArm1RotationGoal, this.robotArmRotationStep);\n            console.log(\"RobotArm1 has not yet reached its goal, moving arm into direction of goal. Rotating to \" + newRotation);\n            if (this.state.robotArm1BallAttached) {\n                this.setState({\n                    ballPos: this.getBallPositionAtRobotArm(this.state.robotArm1Rotation, this.state.robotArm1Pos),\n                    robotArm1Rotation: newRotation\n                });\n            } else {\n                this.setState({\n                    robotArm1Rotation: newRotation\n                });\n            }\n        }\n        if (!this.rotationGoalReached(this.state.robotArm2Rotation, this.state.robotArm2RotationGoal)) {\n            const newRotation = this.getNewRotation(this.state.robotArm2Rotation, this.state.robotArm2RotationGoal, this.robotArmRotationStep);\n            console.log(\"RobotArm2 has not yet reached its goal, moving arm into direction of goal. Rotating to \" + newRotation);\n            if (this.state.robotArm2BallAttached) {\n                this.setState({\n                    ballPos: this.getBallPositionAtRobotArm(this.state.robotArm2Rotation, this.state.robotArm2Pos),\n                    robotArm2Rotation: newRotation\n                });\n            } else {\n                this.setState({\n                    robotArm2Rotation: newRotation\n                });\n            }\n        }\n    }\n\n    componentDidMount(){\n        this.intervalId = setInterval(this.gameLoop.bind(this), 10);\n\n        this.ws.onopen = () => {\n            console.log('websocket connected.');\n        };\n\n        this.ws.onmessage = evt => {\n            console.log(evt.data);\n            const message = JSON.parse(evt.data);\n            console.log(message);\n            this.handleMessage(message);\n        };\n\n        this.ws.onclose = () => {\n            console.log('websocket disconnected.')\n            // TODO: automatically try to reconnect on connection loss\n        };\n    }\n\n    componentWillUnmount(){\n        clearInterval(this.intervalId);\n    }\n\n    render() {\n        return <div tabIndex=\"0\">\n            <div className=\"background\">\n                <Background backgroundImage={backgroundImg} onMouseDown={this._onMouseDown.bind(this)}\n                    windowWidth={this.state.windowWidth} windowHeight={this.state.windowHeight} top={0} left={0} />\n            </div>\n                <div className=\"configsection\">\n                <Configuration websocket={this.ws}/>\n                </div>\n            <Ball centreX={this.state.ballPos.x} centreY={this.state.ballPos.y} radius={this.ballRadius}/>\n            <Robot robotImage={driverRobotImg} centreX={this.state.driverPos.x}\n                centreY={this.state.driverPos.y} width={this.driverWidth}\n                height={this.driverHeight} rotation={this.state.driverRotation} />\n            <Robot robotImage={robotArmImg} centreX={this.state.robotArm1Pos.x}\n                centreY={this.state.robotArm1Pos.y} width={this.robotArmWidth}\n                height={this.robotArmHeight} rotation={this.state.robotArm1Rotation} />\n            <Robot robotImage={robotArmImg} centreX={this.state.robotArm2Pos.x}\n                centreY={this.state.robotArm2Pos.y} width={this.robotArmWidth}\n                height={this.robotArmHeight} rotation={this.state.robotArm2Rotation} />\n            <Terminal ref={this.TerminalElement} top={0} left={this.state.windowWidth} width={window.innerWidth - this.state.windowWidth} height={this.state.windowHeight} text={this.state.terminalText} />\n        </div>\n    }\n}\n\nexport default Simulation;","import React from 'react';\nimport './App.css';\nimport Simulation from './Components/Simulation';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Simulation />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}